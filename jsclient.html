<!doctype html>

<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Client JS</title>
    <style></style>
    <script>
        function customer_request(method, name) {
            var xhttp = new XMLHttpRequest();
            var div_resultat = document.getElementById("resultat-ajax");

            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log(this.responseText);
                    var json_array = JSON.parse(this.responseText);
                   
                    console.log(json_array);

                    div_resultat.innerHTML += this.responseText;
                    /*for(var i = 0; i < json_array.length; i++){
                        var produit = json_array[i];		
                        
                    }*/
                } else {
                    if(this.readyState == 4){
                        console.log("Erreur: " + ajaxRequest.status);}
                    else{
                        console.log("State: " + this.readyState)}
                }
            };
    
            xhttp.open(method, "http://localhost/refact4-REST/customer.php?customer_name=" + name, true);
            xhttp.send();
        }
    </script>
</head>

<body>
<a onclick="customer_request('GET', 'Maryse Dubé');">GET Maryse Dubé</a>
<a onclick="customer_request('PUT', 'Maryse Dubé');">PUT Maryse Dubé</a>
<a onclick="customer_request('OPTIONS', 'Georges-Henri Jean');">OPTIONS Georges-Henri Jean</a>
<div id="resultat-ajax">response:</div>

</body>
</html>